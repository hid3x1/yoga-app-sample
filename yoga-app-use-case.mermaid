flowchart TB
    %% アクター
    user((ユーザー))
    member((会員\n- フェーズ2))
    admin((管理者\n- 将来実装))
    
    %% MVPフェーズ1のユースケース
    createProfile[プロフィール作成]
    settings[設定変更]
    viewLesson[レッスン閲覧]
    startLesson[レッスン開始]
    practiceYoga[ヨガ練習]
    poseDetection[ポーズ検出・判定]
    viewFeedback[フィードバック確認]
    viewStats[基本統計確認]
    
    %% MVPフェーズ2のユースケース
    register[会員登録]
    login[ログイン]
    syncData[データ同期]
    
    %% 将来実装のユースケース
    achievement[実績獲得]
    manageUsers[ユーザー管理]
    manageLessons[レッスン管理]
    managePoses[ポーズデータ管理]
    advancedAnalytics[高度な分析]
    
    %% リレーションシップ - フェーズ1
    user --> createProfile
    user --> settings
    user --> viewLesson
    user --> startLesson
    startLesson --> practiceYoga
    practiceYoga --> poseDetection
    poseDetection --> viewFeedback
    user --> viewStats
    
    %% リレーションシップ - フェーズ2
    user -.-> register
    user -.-> login
    login -.-> member
    member -.-> syncData
    
    %% リレーションシップ - 将来実装
    member -.-> achievement
    viewStats -.-> achievement
    admin -.-> manageUsers
    admin -.-> manageLessons
    admin -.-> managePoses
    member -.-> advancedAnalytics
    
    %% グループ化
    subgraph MVPフェーズ1
        createProfile
        settings
        viewLesson
        startLesson
        practiceYoga
        poseDetection
        viewFeedback
        viewStats
    end
    
    subgraph MVPフェーズ2
        register
        login
        syncData
    end
    
    subgraph 将来実装
        achievement
        manageUsers
        manageLessons
        managePoses
        advancedAnalytics
    end
    
    classDef default fill:#f9f9f9,stroke:#333,stroke-width:1px;
    classDef phase1 fill:#e8f5e9,stroke:#388e3c,stroke-width:2px;
    classDef phase2 fill:#e1f5fe,stroke:#0288d1,stroke-width:1px;
    classDef future fill:#f3e5f5,stroke:#7b1fa2,stroke-width:1px,stroke-dasharray: 5 5;
    
    class MVPフェーズ1 phase1;
    class MVPフェーズ2 phase2;
    class 将来実装 future;
